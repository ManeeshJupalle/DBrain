$(document).ready(function(){
	var isIE11 = !!navigator.userAgent.match(/Trident.*rv\:11\./);
    if ((isIE11 || navigator.userAgent.indexOf('MSIE') !== -1) && window.location.href.indexOf("unsupported-browser-notice") <= -1) {
        window.location.href = window.location.protocol + '//' + window.location.hostname + "/unsupported-browser-notice";
    }
});
$(document).ready(function() {
    if(readCookie("msal_web_app_auth_firstname") !== null || readCookie("msal_web_app_auth_lastname") !== null || readCookie("msal_web_app_auth_email") !== null) {
		var thefname = ""; var thelname = ""; var theemail = "";
		if(readCookie("msal_web_app_auth_firstname") !== null) {
			thefname = readCookie("msal_web_app_auth_firstname");
		}
		if(readCookie("msal_web_app_auth_lastname") !== null) {
			thelname = readCookie("msal_web_app_auth_lastname");
		}
		if(readCookie("msal_web_app_auth_email") !== null) {
			theemail = readCookie("msal_web_app_auth_email");
		}
		$(".header__secondary-navigation .signin").hide();
		$(".customer__login--container p:not(:last-child)").hide();
		$(".customer__login--container .button-container #signin").hide();
		$(".header__secondary-navigation .signout").show();
		$(".customer__login--container .button-container").addClass("loggedin");
		$(".customer__login--container .button-container #signout").show().css('display','inline-block');
		$(".header__secondary-navigation .signout").closest("article").css({"border-bottom": "1px solid #ccc"});
		$("<h4 style='margin-bottom: .35em; margin-top: -10px; font-size: 1rem;'>" + thefname + " " + thelname + "</h4><p><em>" + theemail + "</em></p>" ).insertBefore(".header__secondary-navigation .signout");
		$("<p class='subhead'>" + thefname + " " + "<span>" + thelname + "</span></p><p><em>" + theemail + "</em></p>" ).insertBefore(".customer__login--container .button-container");
		$(".theavatar").addClass("theavatar-loggedin");
		$("#dropdownLoginMenuButton").addClass("loggedin");
	}
	else {
		$(".header__secondary-navigation .signin").show();
		$(".header__secondary-navigation .signout").hide();
		$(".customer__login--container .button-container #signin").show();
		$(".customer__login--container .button-container").removeClass("loggedin");
		$(".customer__login--container .button-container #signout").hide();
	}
});
var thedmimgs = [];
var thedmimgswidths = [];
var thedmimgsheights = [];
var thewidth = $(window).width();

function pxdensity() {
            var pxdensity = 1;
            if (window.devicePixelRatio) {
                pxdensity = window.devicePixelRatio;
            } else {
                if (screen.deviceXDPI) {
                    pxdensity = window.screen.deviceXDPI / window.screen.logicalXDPI;
                } else {
                    if ("matchMedia" in window && window.matchMedia) {
                        if (window.matchMedia("(min-resolution: 2dppx)").matches || win.matchMedia("(min-resolution: 192dpi)").matches) {
                            pxdensity = 2;
                        } else {
                            if (window.matchMedia("(min-resolution: 1.5dppx)").matches || window.matchMedia("(min-resolution: 144dpi)").matches) {
                                pxdensity = 1.5;
                            }
                        }
                    }
                }
            }
    if(pxdensity > 2) { pxdensity = 2 }
    if(typeof navigator.connection !== "undefined") {
          if(navigator.connection.downlink <= 5) {
            pxdensity = 1;
          }
    }
    return pxdensity;
}

$(document).ready(function(){
    $("img.cmp-image__image[data-compid], img.card-image__image[data-compid], .cmp-image__compound-image img[data-compid], .cmp-image__modal-trigger img[data-compid], .modal .s7dm-dynamic-media img[data-compid], img.info-card__image[data-compid], img.banner__image[data-compid], img[data-compid]").each(function() {
        thedmimgs.push($(this));
		thedmimgswidths.push($(this)[0].naturalWidth);
		//thedmimgsheights.push($(this).closest(".row").height());    
    });
});

$(window).on("load click", function() {
    responsiveimagesize();
});

$(window).on("resize", function() {
    if ($(window).width()==thewidth) return;
    else {
      responsiveimagesize();
    }
});

function responsiveimagesize() {
    setTimeout(function() {
            for(var x=0; x<thedmimgs.length; x++) {
                //thedmimgs[x].show();
                if(thedmimgs[x].attr("srcset") === undefined && thedmimgs[x].is(":visible")) {
                    if(thedmimgs[x].attr("src").indexOf("?") > -1) {
                        if(thedmimgs[x].attr("src").indexOf("?fmt=png-alpha") > -1) {
                          if (window.innerWidth < 768) {
                              thedmimgs[x].attr("src", thedmimgs[x].attr("src").split("?fmt=png-alpha")[0] + "?fmt=webp-alpha");
                          } else {
                              thedmimgs[x].attr("src", thedmimgs[x].attr("src").split("?fmt=png-alpha")[0] + "?fmt=png-alpha");
                          }
                        } 
                        if(thedmimgs[x].attr("src").indexOf("$") > -1) {
                              thedmimgs[x].attr("src", thedmimgs[x].attr("src").split("$")[0]);
                        } 
                    }
                    if(thedmimgs[x].width() >= 400 || thedmimgs[x].width()*pxdensity() >= 400) {
                      var theimgwidth = Math.ceil(thedmimgs[x].width()) > Math.ceil(thedmimgs[x].parent().width()) ? Math.ceil(thedmimgs[x].width()) : Math.ceil(thedmimgs[x].parent().width());
                      if(thedmimgs[x].attr("src") == "#" && thedmimgs[x].attr("data-src") !== undefined) {
                          thedmimgs[x].attr("src", thedmimgs[x].attr("data-src"));
                      }
                      if(thedmimgswidths[x] < Math.ceil(thedmimgs[x].width()) || thedmimgs[x].width()*pxdensity() >= 400 && thedmimgs[x].closest(".row").height() >= thedmimgs[x].height()*pxdensity()) {
                          if(thedmimgs[x].attr("src").indexOf("?wid") > -1) {
                              if (window.innerWidth < 768) {
                                  thedmimgs[x].attr("src", thedmimgs[x].attr("src").split("?")[0] + "?fmt=webp");
                              } else {
                                  thedmimgs[x].attr("src", thedmimgs[x].attr("src").split("?")[0]);
                              }
                          }
                          thedmimgswidths[x] = Math.ceil(thedmimgs[x].width());
                          var thefinalimgwidth = Math.ceil(theimgwidth*pxdensity()) > 2000 ? 1920 : Math.ceil(theimgwidth*pxdensity());
                          //Mobile
                          if (window.innerWidth < 768 ) {
                              //if webp does not exist then add "&fmt=webp"
                              if (thedmimgs[x].attr("src").indexOf("?fmt=webp") == -1) {
                                  thedmimgs[x].attr("src", thedmimgs[x].attr("src") + (thedmimgs[x].attr("src").indexOf("?") == -1 ? "?" : "&") + "wid=" + thefinalimgwidth  + "&fmt=webp" + "&op_usm=0.9,1.0,20,0&fit=constrain,0");
                              } else {
                                  thedmimgs[x].attr("src", thedmimgs[x].attr("src") + (thedmimgs[x].attr("src").indexOf("?") == -1 ? "?" : "&") + "wid=" + thefinalimgwidth + "&op_usm=0.9,1.0,20,0&fit=constrain,0");
                              }  
                          } 
                          //Desktop
                          else if (window.innerWidth > 768 ) {
                              thedmimgs[x].attr("src", thedmimgs[x].attr("src") + (thedmimgs[x].attr("src").indexOf("?") == -1 ? "?" : "&") + "wid=" + thefinalimgwidth + "&op_usm=0.9,1.0,20,0&fit=constrain,0");
                          }
                      }
                   }
               }
          }
      }, 1000);
  }
var theratio;
$(window).on("load", function(){
    $(".hero__image").each(function() {
        if($(this).closest(".hero").find(".themobstatic").length <= 0 && $(window).width() <= 991) {
            $(this).closest(".hero").find(".hero__image").css({"opacity":"1"});
            $(this).css({"position": "relative", "width":" 100%", "height":" 0", "padding-bottom": "55.5555556%", "background-position": "50%", "background-size": "cover"});
        }
    });
    $(".themobstatic").each(function() {
        if($(this).closest(".hero").find(".bgvideo").length <= 0 && $(window).width() <= 991) {
            $(this).css({"display":"block","position":"relative"});
            $(this).closest(".hero").find(".hero__image").hide();
        }
    });
	$(".bgvideo").each(function() {
		theratio = 16/9 /*$(this).innerWidth()/$(this).innerHeight();*/
		if($(window).width() > 768 && !isMobile) {
			$(this).parent().css({"overflow":"hidden"});
			if($(this).closest(".hero").length > 0) {				
				$(this).css({"position":"absolute", "min-height": "calc(100vw/"+theratio+")"});
                $(this).parent().find(".themobstatic").css({"position":"absolute"});
				$(this).parent().find(".themobstatic").hide();
			}
			else {
				$(this).closest(".containerwithbackground").find(".ansys-container").css({ "min-height": "calc(100vw/" + theratio + ")" });
				$(this).closest(".containerwithbackground").find(".ansys-container").css({ "min-height": parseFloat($(this).closest(".containerwithbackground").find(".ansys-container").css("min-height")) - 120});
				$(this).closest(".containerwithbackground").find(".ansys-container").find(".row.align-items-center").css({ "min-height": parseFloat($(this).closest(".containerwithbackground").find(".ansys-container").css("min-height")) - 120});
				$(this).css({"position":"absolute", "height": "calc(100vw/"+theratio+")"});
                $(this).parent().find(".themobstatic").css({"position":"absolute"});
				$(this).closest(".containerwithbackground").find(".themobstatic").hide();
			}
			if($(this).hasClass("theyoutube")) {
				$(this).css({"margin-top":"-10px"});
				$(this).css({"position":"absolute", "height": "calc(100vw/"+theratio+")"});
				$(this).closest(".containerwithbackground").css({"margin-bottom":"-10px"});
			}
			$(this).parent().find(".hero__content, .breadcrumb").removeAttr("style");
			$(this).css({"padding-bottom": "0"});
			$(this).show();
		}
		else if($(window).width() > 768 && isMobile) {
			if($(this).hasClass("theyoutube")) {
				$(this).parent().find(".hero__content, .breadcrumb").removeAttr("style");
				$(this).parent().find(".themobstatic").css({"position":"relative","padding-bottom":"20px"});
				$(this).parent().find(".ansys-container").css({"min-height": "auto"});
                $(this).parent().find(".themobstatic").css({"position":"absolute"});
				$(this).parent().find(".themobstatic").show();
				$(this).hide();
			}
			else {
				if($(this).closest(".hero").length > 0) {				
					$(this).css({"position":"absolute", "min-height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
                	$(this).parent().find(".themobstatic").css({"position":"absolute"});
					$(this).parent().find(".themobstatic").hide();
				}
				else {
					$(this).css({"position":"absolute", "min-height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
					$(this).closest(".containerwithbackground").find(".ansys-container").css({"min-height": "calc(100vw/"+theratio+")"});
					$(this).closest(".containerwithbackground").find(".ansys-container").find(".row.align-items-center").css({ "min-height": parseFloat($(this).closest(".containerwithbackground").find(".ansys-container").css("min-height")) - 120});
                	$(this).parent().find(".themobstatic").css({"position":"absolute"});
					$(this).closest(".containerwithbackground").find(".themobstatic").hide();
				}
			}
		}
		if($(window).width() <= 768) {
			$(this).parent().css({"height": "auto", "overflow":"hidden"});
			if($(this).parent().find(".themobstatic").length > 0) {
				if($(this).closest(".hero").length > 0) {
					$(this).parent().find(".themobstatic").css({"position":"relative","padding-bottom":"20px"});
					var thiz = $(this);
					setTimeout(function() {
						thiz.closest(".hero").find(".breadcrumb").css({"top":-thiz.parent().find(".themobstatic").innerHeight()});
					}, 50);
				}
				$(this).hide();
				$(this).parent().find(".themobstatic").show();
			}
			else if($(this).closest(".hero").length > 0) {
				$(this).css({"position":"relative", "min-height":"calc(100vw/"+theratio+")", "padding-bottom":"0"});                
				var thiz = $(this);
				setTimeout(function() {
					thiz.closest(".hero").find(".breadcrumb").css({"top":-thiz.innerHeight()});
				}, 50);
				$(this).show();
			}
			else if(($(this).closest(".containerwithbackground").length > 0)) {
				$(this).css({"position":"relative","padding-bottom":"20px", "min-height":"calc(100vw/"+theratio+")"});
				$(this).closest(".containerwithbackground").find(".breadcrumb").clone().addClass("bs-container theclonebreadcrumb").prependTo($(this).closest(".containerwithbackground")).css({"position": "relative", "margin-bottom": -$(this).closest(".containerwithbackground").find(".breadcrumb").height(), "top": "0", "z-index": "1"});
				$(this).closest(".containerwithbackground").find(".bs-container .breadcrumb").hide();
				$(this).show();
			}
		}
		$(this).closest(".containerwithbackground,.hero").addClass($(this).closest(".containerwithbackground").find(".thevidbgcolor").attr("class"));
	});
});


$(window).on("resize", function() {
	$(".theclonebreadcrumb").remove();
    $(".hero__image").each(function() {
        if($(this).closest(".hero").find(".themobstatic").length <= 0 && $(window).width() <= 991) {
            $(this).closest(".hero").find(".hero__image").css({"opacity":"1"});
            $(this).css({"position": "relative", "width":" 100%", "height":" 0", "padding-bottom": "55.5555556%", "background-position": "50%", "background-size": "cover"});
        }
        if($(this).closest(".hero").find(".themobstatic").length <= 0 && $(window).width() > 991) {
            var thebgimg = $(this).css('background-image');
            $(this).attr('style','');
            $(this).css('background-image',  thebgimg);
        }
    });
    $(".themobstatic").each(function() {
        if($(this).closest(".hero").find(".bgvideo").length <= 0 && $(window).width() <= 991) {
            $(this).css({"display":"block","position":"relative"});
            $(this).closest(".hero").find(".hero__image").hide();
        }
        else {
			$(this).css({"display":"none","position":"absolute"});
            $(this).closest(".hero").find(".hero__image").show();
        }
    });
	$(".bgvideo").each(function() {
		$(this).closest(".containerwithbackground").find(".bs-container .breadcrumb").show();
		theratio = 16/9 /*$(this).innerWidth()/$(this).innerHeight();*/
		if($(window).width() > 768 && !isMobile) {
			$(this).parent().css({"overflow":"hidden"});
			$(this).parent().find(".themobstatic").hide();
			$(this).parent().find(".hero__content, .breadcrumb").removeAttr("style");
			if($(this).closest(".hero").length > 0) {				
				$(this).css({"position":"absolute", "height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
				$(this).parent().find(".themobstatic").hide();
			}
			else {
				$(this).css({"position":"absolute", "height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
				$(this).parent().find(".ansys-container").css({ "min-height": "calc(100vw/" + theratio + ")" });
				$(this).parent().find(".ansys-container").css({ "min-height": parseFloat($(this).parent().find(".ansys-container").css("min-height")) - 120});
				$(this).closest(".containerwithbackground").find(".themobstatic").hide();
			}
			if($(this).hasClass("theyoutube")) {
				$(this).css({"margin-top":"-10px"});
				$(this).css({"position":"absolute", "height": "calc(100vw/"+theratio+")"});
				$(this).closest(".containerwithbackground").css({"margin-bottom":"-10px"});
			}
			$(this).show();
			$(this).css({"padding-bottom": "1110"});
		}
		else if($(window).width() > 768 && isMobile) {
			if($(this).hasClass("theyoutube")) {
				$(this).parent().find(".hero__content, .breadcrumb").removeAttr("style");
				$(this).parent().find(".themobstatic").css({"position":"relative","padding-bottom":"20px"});
				$(this).parent().find(".ansys-container").css({"min-height": "auto"});
				$(this).parent().find(".themobstatic").show();
				$(this).hide();
			}
			else {
				if($(this).closest(".hero").length > 0) {				
					$(this).css({"position":"absolute", "min-height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
					$(this).parent().find(".themobstatic").hide();
					$(this).show();
				}
				else {
					$(this).css({"position":"absolute", "min-height": "calc(100vw/"+theratio+")","padding-bottom": "0"});
					$(this).parent().find(".ansys-container").css({"min-height": "calc(100vw/"+theratio+")"});
					$(this).closest(".containerwithbackground").find(".themobstatic").hide();
					$(this).show();
				}
			}
		}
		if($(window).width() <= 768) {			
			if($(this).hasClass("theyoutube")) {
				$(this).css({"margin-top":"0"});
				$(this).closest(".containerwithbackground").css({"margin-bottom":"0"});
			}
			$(this).parent().css({"height": "auto", "overflow":"hidden"});
			if($(this).parent().find(".themobstatic").length > 0) {
				if($(this).closest(".hero").length > 0) {
					$(this).parent().find(".themobstatic").css({"position":"relative","padding-bottom":"20px"});
					$(this).closest(".hero").find(".breadcrumb").css({"top":-$(this).parent().find(".themobstatic").innerHeight()});
				}
				$(this).hide();
				$(this).parent().find(".themobstatic").show();
			}
			else if($(this).closest(".hero").length > 0) {
				$(this).css({"position":"relative", "min-height":"calc(100vw/"+theratio+")", "padding-bottom":"0"});
				$(this).closest(".hero").find(".breadcrumb").css({"top":-$(this).innerHeight()});
				$(this).show();
			}
			else if(($(this).closest(".containerwithbackground").length > 0)) {
				$(this).css({"position":"relative","padding-bottom":"20px", "min-height":"calc(100vw/"+theratio+")"});
				$(".theclonebreadcrumb").remove();
				$(this).closest(".containerwithbackground").find(".breadcrumb").clone().addClass("bs-container theclonebreadcrumb").prependTo($(this).closest(".containerwithbackground")).css({"position": "relative", "margin-bottom": -$(this).closest(".containerwithbackground").find(".breadcrumb").height(), "top": "0", "z-index": "1"});
				$(this).closest(".containerwithbackground").find(".bs-container .breadcrumb").hide();
				$(this).show();
			}
		}
	});
});

var isMobile = false; //initiate as false
// device detection
if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) 
|| /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) { 
	isMobile = true;
}

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

window.onPlayerReady = function(event) {
	setTimeout(function() {
		event.target.playVideo();
		$(event.target.getIframe()).css("opacity","1");
	},3000);
}

window.onYouTubeIframeAPIReady = function() {
	$(".bgvideo.theyoutube iframe").each(function(index) {
		new YT.Player($(this)[0], {
			events: {
				'onReady': onPlayerReady
			}
		});
	});
}
var hash = window.location.hash;
target = hash.replace('#', '');

//Accurate Anchoring
window.onload = function(event) {

    // offset height of header
    var offset = $('.header').height();

    // Desired time to scroll, in milliseconds
    var scrollTime = 50;

    // Anchors that link to a tab
    var targetTab = $('a[href^="#tab"]');

    // Anchoring to section with button click
    $('a[href^="#"]:not([href="#"]):not([role*=tab]):not([role*=button]):not([data-toggle*=collapse])').click(function() {

        // Need both `html` and `body` for full browser support
        $("html, body").animate({
            scrollTop: $( $(this).attr("href") ).offset().top - offset 
        }, scrollTime);

        // Prevent the jump/flash
        return false;
        
    });

    // Anchoring to section through hash in URL
    if (target) {
        var matches = hash.match("#tab");
        window.scrollTo(0, $("#" + target).offset().top - offset);

        // Exclude hash that contains #tab
        if (!matches) {
            // delete hash so the page won't scroll to it
            //window.location.hash = "";
            //history.pushState("", document.title, window.location.pathname);

            setTimeout(function() {
                //alert('before animate start');
                window.scrollTo(0, $("#" + target).offset().top - offset);
            }, 500);

            // Prevent the jump/flash
            return false;
        }
    }

};
$(document).ready(function() {
    if(typeof digitalData != "undefined") {
		window.onVidyardAPI = (vidyardEmbed) => {
			vidyardEmbed.api.addReadyListener((_, player) => {
				vidyardEmbed.api.progressEvents(function(result) {
					console.log("Video Name: " + result.player.metadata.chapters_attributes[result.chapter].video_attributes.name);
					_satellite.setVar("Video Name", result.player.metadata.chapters_attributes[result.chapter].video_attributes.name);
					console.log("Video Played %: " + result.event);
					_satellite.setVar("Video Played %", result.event);
					console.log("Video Type: Vidyard");
					_satellite.setVar("Video Type", "Vidyard");
					console.log("Video Duration: " + result.player.metadata.chapters_attributes[0].video_attributes.length_in_seconds);
					_satellite.setVar("Video Duration", result.player.metadata.chapters_attributes[0].video_attributes.length_in_seconds);
					console.log("Video ID: " + result.player.uuid);
					_satellite.setVar("Video ID", result.player.uuid);
				}, [1, 25, 50, 75, 100]); //progress events
			}, ) // because we're looking for multiple players, we have no UUID specified here
		}
	}
});

 $(document).ready(function() {
      // Get all anchor tags on the page
      const anchorTags = $("a[rel|='noopener'],a[rel|='noopener noreferrer']");

      // Loop through each anchor tag
      anchorTags.each(function() {
        // Check if the href does not start with "https:"
        if ($(this).attr("target") === "_self"|| $(this).attr("target") == undefined  ) {
          // Remove the rel attribute from the anchor tag
         	 $(this).removeAttr("rel");

        }

      });
   });
$(document).ready(function () {
    var tagAnalytics = "";
    if($('.productInterestAssignment').attr("data-value")) {
        tagAnalytics = $('.productInterestAssignment').attr('data-value').split(",");
    }
    var productFamilyTagArray = [];
    var productTagArray = [];
    var resourceTypeTagArray = [];
    var applicationTagArray = [];
    var applicationGroupTagArray = [];
    var capabilityGroupTagArray = [];
    var industryTagArray = [];
    var technologyTrendsTagArray = [];
    var courseLanguageTagArray = [];
    var courseLevelTagArray = [];
    var courseDisciplineTagArray = [];
    var countriesTagArray = [];
    var disciplineTagArray = [];
    var categoryTagArray = [];

    for (i = 0; i < tagAnalytics.length; i++) {
        if (tagAnalytics[i].startsWith("ansys:product-family/")) {
            var productFamilyTag = [];
            productFamilyTag = tagAnalytics[i].replace("ansys:product-family/", "");
            productFamilyTagArray.push(productFamilyTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.productFamily = productFamilyTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:product/")) {
            var productTag = [];
            productTag = tagAnalytics[i].replace("ansys:product/", "");
            productTagArray.push(productTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.product = productTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:resource-type/")) {
            var resourceTypeTag = [];
            resourceTypeTag = tagAnalytics[i].replace("ansys:resource-type/", "");
            resourceTypeTagArray.push(resourceTypeTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.resourceType = resourceTypeTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:application/")) {
            var applicationTag = [];
            applicationTag = tagAnalytics[i].replace("ansys:application/", "");
            applicationTagArray.push(applicationTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.application = applicationTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:application-group/")) {
            var applicationGroupTag = [];
            applicationGroupTag = tagAnalytics[i].replace("ansys:application-group/", "");
            applicationGroupTagArray.push(applicationGroupTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.applicationGroup = applicationGroupTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:capability-group/")) {
            var capabilityGroupTag = [];
            capabilityGroupTag = tagAnalytics[i].replace("ansys:capability-group/", "");
            capabilityGroupTagArray.push(capabilityGroupTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.capabilityGroup = capabilityGroupTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:industry/")) {
            var industryTag = [];
            industryTag = tagAnalytics[i].replace("ansys:industry/", "");
            industryTagArray.push(industryTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.industry = industryTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:technology-trends/")) {
            var technologyTrendsTag = [];
            technologyTrendsTag = tagAnalytics[i].replace("ansys:technology-trends/", "");
            technologyTrendsTagArray.push(technologyTrendsTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.technologyTrends = technologyTrendsTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:course-language/")) {
            var courseLanguageTag = [];
            courseLanguageTag = tagAnalytics[i].replace("ansys:course-language/", "");
            courseLanguageTagArray.push(courseLanguageTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.courseLanguage = courseLanguageTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:course-level/")) {
            var courseLevelTag = [];
            courseLevelTag = tagAnalytics[i].replace("ansys:course-level/", "");
            courseLevelTagArray.push(courseLevelTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.courseLevel = courseLevelTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:course-discipline/")) {
            var courseDisciplineTag = [];
            courseDisciplineTag = tagAnalytics[i].replace("ansys:course-discipline/", "");
            courseDisciplineTagArray.push(courseDisciplineTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.courseDiscipline = courseDisciplineTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:ansys-locations/countries/")) {
            var countriesTag = [];
            countriesTag = tagAnalytics[i].replace("ansys:ansys-locations/countries/", "");
            countriesTagArray.push(countriesTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.countries = countriesTagArray;
            }
        }
        if (tagAnalytics[i].startsWith("ansys:discipline/")) {
            var disciplineTag = [];
            disciplineTag = tagAnalytics[i].replace("ansys:discipline/", "");
            disciplineTagArray.push(disciplineTag);
            if (window.digitalData != undefined) {
                window.digitalData.categories.discipline = disciplineTagArray;
            }
        }
    }
});
window.onload = function () {
    setTimeout(function () {
        $('.video-wrapper').each(function () {
            if ($(this).find('.vidyard-player-container').length > 0 || ($(this).closest(".modal-asset").length > 0 && $(this).attr("src").indexOf("youtube") <= -1)) {
                $(this).css({ "height": "auto", "padding-bottom": "0" });
            }
        });
    }, 50);
};
let didScroll = false;
const glossaryPanel = document.querySelector('.glossary-panel-left');

// Detect scroll event
window.addEventListener('scroll', function(){
  didScroll = true;
});

// Used for throttling to improve performance
setInterval(function () {
  if (didScroll) {
      didScroll = false;
      glossaryPanel.classList.toggle('g-sticky', window.scrollY > 0);
  }
}, 100);


window.onload = function(event) {
  // Anchoring to glossary section 
  $('.glossary-panel-left a[href^="#"]').click(function() {
    if (!document.querySelector(".g-sticky")) {
      window.scrollBy(0,2);
      $("html, body").animate({
        scrollTop: $( $(this).attr("href") ).offset().top - 170
      }, 100);
    } else {
      $("html, body").animate({
        scrollTop: $( $(this).attr("href") ).offset().top - 130
      }, 50);
    }
  });
};